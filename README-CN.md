# PulsarRPA ç®€ä»‹

[English](README.md) | ç®€ä½“ä¸­æ–‡ | [ä¸­å›½é•œåƒ](https://gitee.com/platonai_galaxyeye/PulsarRPA)

## ğŸš„ å¼€å§‹

ğŸ’– PulsarRPA - æ‚¨çš„å…¨æ–¹ä½è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆï¼ğŸ’–

PulsarRPA æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ã€å¼€æºçš„æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–ï¼ˆRPAï¼‰æ¡†æ¶ï¼Œä¸“ä¸ºè½»æ¾åº”å¯¹å¤§è§„æ¨¡ RPA ä»»åŠ¡è€Œè®¾è®¡ï¼Œä¸ºæµè§ˆå™¨è‡ªåŠ¨åŒ–ã€ç½‘ç»œå†…å®¹ç†è§£å’Œæ•°æ®æå–æä¾›äº†å…¨é¢è§£å†³æ–¹æ¡ˆã€‚

ä½œä¸ºé¢å‘å¤§è§„æ¨¡ç½‘ç»œæ•°æ®æŠ½å–é¢†åŸŸçš„é¡¶çº§å¼€æºè§£å†³æ–¹æ¡ˆï¼ŒPulsarRPA ç»“åˆäº†é«˜æ€§èƒ½ã€åˆ†å¸ƒå¼ RPA çš„ä¼˜åŠ¿ï¼Œæ—¨åœ¨è§£å†³åœ¨å¿«é€Ÿæ¼”å˜ä¸”æ—¥ç›Šå¤æ‚çš„ç½‘ç«™ç¯å¢ƒä¸­è¿›è¡Œæµè§ˆå™¨è‡ªåŠ¨åŒ–ä»¥åŠæŠ½å–å‡†ç¡®ã€å…¨é¢ç½‘ç»œæ•°æ®æ‰€å›ºæœ‰çš„æŒ‘æˆ˜ã€‚

### å¤§è§„æ¨¡ç½‘é¡µæ•°æ®æå–é¢ä¸´çš„æŒ‘æˆ˜

1. **ç½‘é¡µå†…å®¹æ™ºèƒ½æå–**ï¼šäº’è”ç½‘æ‹¥æœ‰æ•°åäº¿ä¸ªç½‘ç«™ï¼Œæ¯ä¸ªç½‘ç«™éƒ½åŒ…å«æµ·é‡æ•°æ®ã€‚ä¸ºäº†ä»å¦‚æ­¤ä¼—å¤šçš„ç½‘ç«™ä¸­æå–ä¿¡æ¯ï¼Œæ™ºèƒ½åŒ–çš„ç½‘é¡µå†…å®¹é‡‡é›†æŠ€æœ¯è‡³å…³é‡è¦ã€‚ä¼ ç»Ÿçš„ç½‘é¡µæŠ“å–æ–¹æ³•æ— æ³•æœ‰æ•ˆå¤„ç†å¤§é‡ç½‘é¡µï¼Œå¯¼è‡´æ•°æ®æå–æ•ˆç‡ä½ä¸‹ã€‚
2. **é¢‘ç¹çš„ç½‘ç«™å˜æ›´**ï¼šåœ¨çº¿å¹³å°ä¸æ–­æ›´æ–°å…¶å¸ƒå±€ã€ç»“æ„å’Œå†…å®¹ï¼Œä½¿å¾—é•¿æœŸä¿æŒå¯é çš„æå–æµç¨‹é¢‡å…·æŒ‘æˆ˜ã€‚ä¼ ç»Ÿçš„æŠ“å–å·¥å…·éš¾ä»¥è¿…é€Ÿé€‚åº”è¿™äº›å˜åŒ–ï¼Œå¯¼è‡´è·å–åˆ°çš„æ•°æ®è¿‡æ—¶æˆ–ä¸å†ç›¸å…³ã€‚
3. **å¤æ‚çš„ç½‘ç«™æ¶æ„**ï¼šç°ä»£ç½‘ç«™å¸¸é‡‡ç”¨ç²¾å·§çš„è®¾è®¡æ¨¡å¼ã€åŠ¨æ€å†…å®¹åŠ è½½åŠå…ˆè¿›çš„å®‰å…¨æªæ–½ï¼Œä¸ºå¸¸è§„æŠ“å–æ–¹æ³•è®¾ç«‹äº†ä¸¥å³»çš„éš¾å…³ã€‚ä»è¿™ç±»ç½‘ç«™ä¸­æå–æ•°æ®éœ€æ·±å…¥ç†è§£å…¶ç»“æ„ä¸è¡Œä¸ºï¼Œå¹¶å…·å¤‡åƒäººç±»ç”¨æˆ·ä¸€æ ·ä¸å…¶äº¤äº’çš„èƒ½åŠ›ã€‚

### PulsarRPAï¼šé©æ–°ç½‘é¡µæ•°æ®é‡‡é›†æ–¹å¼

ä¸ºåº”å¯¹ä¸Šè¿°æŒ‘æˆ˜ï¼ŒPulsarRPA é›†æˆäº†å¤šé¡¹åˆ›æ–°æŠ€æœ¯ï¼Œç¡®ä¿é«˜æ•ˆã€ç²¾å‡†ã€å¯æ‰©å±•çš„ç½‘é¡µæ•°æ®æå–ï¼š

1. **æµè§ˆå™¨æ¸²æŸ“**ï¼šåˆ©ç”¨æµè§ˆå™¨æ¸²æŸ“å’ŒAJAXæ•°æ®æŠ“å–ä»ç½‘ç«™æå–å†…å®¹ã€‚
2. **RPAï¼ˆæœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–ï¼‰**ï¼šé‡‡ç”¨ç±»äººç±»è¡Œä¸ºä¸ç½‘é¡µäº’åŠ¨ï¼Œå®ç°ä»ç°ä»£å¤æ‚ç½‘ç«™ä¸­æ”¶é›†æ•°æ®ã€‚
3. **æ™ºèƒ½æŠ“å–**ï¼šPulsarRPAé‡‡ç”¨æ™ºèƒ½æŠ“å–æŠ€æœ¯ï¼Œèƒ½å¤Ÿè‡ªåŠ¨è¯†åˆ«å¹¶ç†è§£ç½‘é¡µå†…å®¹ï¼Œä»è€Œç¡®ä¿æ•°æ®æå–çš„å‡†ç¡®æ€§å’ŒåŠæ—¶æ€§ã€‚åˆ©ç”¨æ™ºèƒ½ç®—æ³•å’Œæœºå™¨å­¦ä¹ æŠ€æœ¯ï¼ŒPulsarRPAèƒ½å¤Ÿè‡ªä¸»å­¦ä¹ å’Œåº”ç”¨æ•°æ®æå–æ¨¡å‹ï¼Œæ˜¾è‘—æé«˜æ•°æ®æ£€ç´¢çš„æ•ˆç‡å’Œç²¾ç¡®åº¦ã€‚
4. **é«˜çº§DOMè§£æ**ï¼šåˆ©ç”¨é«˜çº§æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰è§£ææŠ€æœ¯ï¼ŒPulsarRPAèƒ½å¤Ÿè½»æ¾å¯¼èˆªå¤æ‚çš„ç½‘ç«™ç»“æ„ã€‚å®ƒèƒ½å‡†ç¡®è¯†åˆ«å¹¶æå–ç°ä»£ç½‘é¡µå…ƒç´ ä¸­çš„æ•°æ®ï¼Œå¤„ç†åŠ¨æ€å†…å®¹æ¸²æŸ“ï¼Œç»•è¿‡åçˆ¬è™«æªæ–½ï¼Œå³ä½¿é¢å¯¹ç½‘ç«™çš„å¤æ‚æ€§ï¼Œä¹Ÿèƒ½æä¾›å®Œæ•´å‡†ç¡®çš„æ•°æ®é›†ã€‚
5. **åˆ†å¸ƒå¼æ¶æ„**ï¼šåŸºäºåˆ†å¸ƒå¼æ¶æ„æ„å»ºçš„PulsarRPAï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†å¤§è§„æ¨¡æå–ä»»åŠ¡ï¼Œå› ä¸ºå®ƒåˆ©ç”¨äº†å¤šä¸ªèŠ‚ç‚¹ç»„åˆçš„è®¡ç®—èƒ½åŠ›ã€‚è¿™ä½¿å¾—å¹¶è¡ŒæŠ“å–ã€å¿«é€Ÿæ•°æ®æ£€ç´¢æˆä¸ºå¯èƒ½ï¼Œå¹¶éšç€æ•°æ®éœ€æ±‚çš„å¢åŠ å®ç°æ— ç¼æ‰©å±•ï¼ŒåŒæ—¶ä¸æŸå®³æ€§èƒ½æˆ–å¯é æ€§ã€‚
6. **å¼€æºä¸å¯å®šåˆ¶**ï¼šä½œä¸ºä¸€ä¸ªå¼€æºè§£å†³æ–¹æ¡ˆï¼ŒPulsarRPAæä¾›äº†æ— ä¸ä¼¦æ¯”çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚å¼€å‘è€…å¯ä»¥è½»æ¾å®šåˆ¶å…¶ç»„ä»¶ã€é›†æˆç°æœ‰ç³»ç»Ÿæˆ–è´¡çŒ®æ–°åŠŸèƒ½ä»¥æ»¡è¶³ç‰¹å®šé¡¹ç›®éœ€æ±‚ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼ŒPulsarRPA å‡­å€Ÿå…¶ç½‘é¡µå†…å®¹ç†è§£ã€æ™ºèƒ½æŠ“å–ã€å…ˆè¿› DOM è§£æã€åˆ†å¸ƒå¼å¤„ç†åŠå¼€æºç‰¹æ€§ï¼Œæˆä¸ºå¤§è§„æ¨¡ç½‘é¡µæ•°æ®æå–é¦–é€‰çš„å¼€æºè§£å†³æ–¹æ¡ˆã€‚å…¶ç‹¬ç‰¹çš„æŠ€æœ¯ç»„åˆä½¿ç”¨æˆ·èƒ½å¤Ÿæœ‰æ•ˆåº”å¯¹ä¸å¤§è§„æ¨¡æå–å®è´µç½‘é¡µæ•°æ®ç›¸å…³çš„å¤æ‚æ€§å’ŒæŒ‘æˆ˜ï¼Œæœ€ç»ˆæ¨åŠ¨æ›´æ˜æ™ºçš„å†³ç­–åˆ¶å®šå’Œç«äº‰ä¼˜åŠ¿ã€‚

### å¤§å¤šæ•°æŠ“å–å°è¯•å¯ä»¥ä»å‡ ä¹ä¸€è¡Œä»£ç å¼€å§‹ï¼š

*Kotlin:*

```kotlin
fun main() = PulsarContexts.createSession().scrapeOutPages(
  "https://www.amazon.com/",  "-outLink a[href~=/dp/]", listOf("#title", "#acrCustomerReviewText"))
```

ä¸Šé¢çš„ä»£ç ä»ä¸€ç»„äº§å“é¡µé¢ä¸­æŠ“å–ç”± css é€‰æ‹©å™¨ #title å’Œ #acrCustomerReviewText æŒ‡å®šçš„å­—æ®µã€‚ ç¤ºä¾‹ä»£ç ï¼š[kotlin](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/sites/topEc/english/amazon/AmazonCrawler.kt), [java](/pulsar-app/pulsar-examples/src/main/java/ai/platon/pulsar/examples/sites/amazon/AmazonCrawler.java).

### å¤§å¤šæ•° *ç”Ÿäº§ç¯å¢ƒ* æ•°æ®é‡‡é›†é¡¹ç›®å¯ä»¥ä»ä»¥ä¸‹ä»£ç ç‰‡æ®µå¼€å§‹ï¼š

*Kotlin:*

```kotlin
fun main() {
    val context = PulsarContexts.create()

    val parseHandler = { _: WebPage, document: FeaturedDocument ->
        // use the document
        // ...
        // and then extract further hyperlinks
        context.submitAll(document.selectHyperlinks("a[href~=/dp/]"))
    }
    val urls = LinkExtractors.fromResource("seeds10.txt")
        .map { ParsableHyperlink("$it -refresh", parseHandler) }
    context.submitAll(urls).await()
}
```

ç¤ºä¾‹ä»£ç ï¼š
[kotlin](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/_5_ContinuousCrawler.kt), [java](/pulsar-app/pulsar-examples/src/main/java/ai/platon/pulsar/examples/ContinuousCrawler.java).

### **æœ€å¤æ‚** çš„æ•°æ®é‡‡é›†é¡¹ç›®éœ€è¦ä½¿ç”¨ RPAï¼š

*Kotlin:*

```kotlin
val options = session.options(args)
val event = options.event.browseEventHandlers
event.onBrowserLaunched.addLast { page, driver ->
    // warp up the browser to avoid being blocked by the website,
    // or choose the global settings, such as your location.
    warnUpBrowser(page, driver)
}
event.onWillFetch.addLast { page, driver ->
    // have to visit a referrer page before we can visit the desired page
    waitForReferrer(page, driver)
    // websites may prevent us from opening too many pages at a time, so we should open links one by one.
    waitForPreviousPage(page, driver)
}
event.onWillCheckDocumentState.addLast { page, driver ->
    // wait for a special fields to appear on the page
    driver.waitForSelector("body h1[itemprop=name]")
    // close the mask layer, it might be promotions, ads, or something else.
    driver.click(".mask-layer-close-button")
}
// visit the URL and trigger events
session.load(url, options)
```

ç¤ºä¾‹ä»£ç : [kotlin](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/sites/food/dianping/RestaurantCrawler.kt).

### *å¤§æ‰¹é‡*ç«™ç‚¹çš„æ•°æ®æå–å¯ä»¥ä½¿ç”¨è‡ªåŠ¨åŒ–æå–æŠ€æœ¯:

```kotlin
val document = session.harvest("https://www.eeo.com.cn/2024/0330/648712.shtml")

println(document.contentTitle)
println(document.textContent)
```

ç¤ºä¾‹ä»£ç : [kotlin](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/sites/article/EEO.kt).

åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æµè¡Œçš„ biolerpipe æŠ€æœ¯æ¥è‡ªåŠ¨æå–æ–°é—»ç½‘é¡µã€‚åœ¨ PulsarRPAPro ä¸­ï¼Œæˆ‘ä»¬æ”¯æŒæ›´åŠ æ™ºèƒ½çš„æ•°æ®æå–æŠ€æœ¯ï¼Œæ¥è‡ªåŠ¨æå–å„ç§å„æ ·çš„ç½‘é¡µï¼Œè­¬å¦‚å•†å“è¯¦æƒ…é¡µã€‚

### *æœ€å¤æ‚* çš„ Web æ•°æ®æŠ½å–éš¾é¢˜éœ€è¦ç”¨ X-SQL æ¥è§£å†³:

1. æ‚¨çš„ Web æ•°æ®æå–è§„åˆ™éå¸¸å¤æ‚ï¼Œä¾‹å¦‚ï¼Œæ¯ä¸ªå•ç‹¬çš„é¡µé¢æœ‰ 100 å¤šä¸ªè§„åˆ™
2. éœ€è¦ç»´æŠ¤çš„æ•°æ®æå–è§„åˆ™å¾ˆå¤šï¼Œæ¯”å¦‚å…¨çƒ 20 å¤šä¸ªäºšé©¬é€Šç½‘ç«™ï¼Œæ¯ä¸ªç½‘ç«™ 20 å¤šä¸ªæ•°æ®ç±»å‹

```sql
select
      dom_first_text(dom, '#productTitle') as title,
      dom_first_text(dom, '#bylineInfo') as brand,
      dom_first_text(dom, '#price tr td:matches(^Price) ~ td, #corePrice_desktop tr td:matches(^Price) ~ td') as price,
      dom_first_text(dom, '#acrCustomerReviewText') as ratings,
      str_first_float(dom_first_text(dom, '#reviewsMedley .AverageCustomerReviews span:contains(out of)'), 0.0) as score
  from load_and_select('https://www.amazon.com/dp/B0C1H26C46  -i 1s -njr 3', 'body');
```

ç¤ºä¾‹ä»£ç :
- [X-SQL  to scrape 100+ fields from an Amazon's product page](https://github.com/platonai/exotic-amazon/tree/main/src/main/resources/sites/amazon/crawl/parse/sql/crawl)
- [X-SQLs  to scrape all types of Amazon webpages](https://github.com/platonai/exotic-amazon/tree/main/src/main/resources/sites/amazon/crawl/parse/sql/crawl)

## ğŸ¥ ç®€ä»‹

PulsarRPA æ˜¯å¤§è§„æ¨¡é‡‡é›† Web æ•°æ®çš„ç»ˆæå¼€æºæ–¹æ¡ˆï¼Œå¯æ»¡è¶³å‡ ä¹æ‰€æœ‰è§„æ¨¡å’Œæ€§è´¨çš„ç½‘ç»œæ•°æ®é‡‡é›†éœ€è¦ã€‚

å¤§è§„æ¨¡æå– Web æ•°æ®éå¸¸å›°éš¾ã€‚ç½‘ç«™ç»å¸¸å˜åŒ–å¹¶ä¸”å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œè¿™æ„å‘³ç€æ”¶é›†çš„ç½‘ç»œæ•°æ®é€šå¸¸ä¸å‡†ç¡®æˆ–ä¸å®Œæ•´ï¼ŒPulsarRPA å¼€å‘äº†ä¸€ç³»åˆ—å°–ç«¯æŠ€æœ¯æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚

æˆ‘ä»¬å‘å¸ƒäº†ä¸€äº›æœ€å¤§å‹ç”µå•†ç½‘ç«™çš„å…¨ç«™æ•°æ®é‡‡é›†çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆæ»¡è¶³æœ€é«˜æ ‡å‡†çš„æ€§èƒ½ã€è´¨é‡å’Œæˆæœ¬è¦æ±‚ï¼Œä»–ä»¬å°†æ°¸ä¹…å…è´¹å¹¶å¼€æ”¾æºä»£ç ï¼Œä¾‹å¦‚ï¼š
- [Exotic Amazon](https://github.com/platonai/exotic-amazon)
- [Exotic Walmart](https://github.com/platonai/exotic/tree/main/exotic-app/exotic-OCR-examples/src/main/kotlin/ai/platon/exotic/examples/sites/walmart)
- [Exotic Dianping](https://github.com/platonai/exotic/tree/main/exotic-app/exotic-OCR-examples/src/main/kotlin/ai/platon/exotic/examples/sites/food/dianping)











# ğŸš€ ä¸»è¦ç‰¹æ€§

- ç½‘ç»œçˆ¬è™«ï¼šæ”¯æŒå¤šç§æ•°æ®é‡‡é›†æ¨¡å¼ï¼ŒåŒ…æ‹¬æµè§ˆå™¨æ¸²æŸ“ã€ajaxæ•°æ®é‡‡é›†ã€æ™®é€šåè®®é‡‡é›†ç­‰ã€‚
- RPAï¼šæœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–ï¼Œèƒ½å¤Ÿæ¨¡ä»¿äººç±»è¡Œä¸ºï¼Œé‡‡é›†å•ç½‘é¡µåº”ç”¨ç¨‹åºæˆ–æ‰§è¡Œå…¶ä»–æœ‰ä»·å€¼çš„ä»»åŠ¡ã€‚
- ç®€æ´çš„ APIï¼šé€šè¿‡ä¸€è¡Œä»£ç æŠ“å–æ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨ä¸€æ¡ SQL è¯­å¥å°†æ•´ä¸ªç½‘ç«™æ ç›®è½¬æ¢æˆè¡¨æ ¼ã€‚
- X-SQLï¼šæ‰©å±• SQL åŠŸèƒ½æ¥ç®¡ç† Web æ•°æ®ï¼ŒåŒ…æ‹¬ç½‘ç»œçˆ¬å–ã€æ•°æ®é‡‡é›†ã€Web å†…å®¹æŒ–æ˜å’Œ Web BIã€‚
- çˆ¬è™«éšèº«ï¼šé€šè¿‡æµè§ˆå™¨é©±åŠ¨éšèº«æŠ€æœ¯ï¼ŒIP è½®æ¢å’Œéšç§ä¸Šä¸‹æ–‡è½®æ¢ï¼Œç¡®ä¿çˆ¬è™«ä¸ä¼šè¢«å±è”½ã€‚
- é«˜æ€§èƒ½ï¼šç»è¿‡é«˜åº¦ä¼˜åŒ–ï¼Œèƒ½å¤Ÿåœ¨å•æœºä¸Šå¹¶è¡Œæ¸²æŸ“æ•°ç™¾é¡µè€Œä¸è¢«å±è”½ã€‚
- ä½æˆæœ¬ï¼šæ¯å¤©èƒ½å¤ŸæŠ“å– 100,000 ä¸ªæµè§ˆå™¨æ¸²æŸ“çš„ç”µå­å•†åŠ¡ç½‘é¡µï¼Œæˆ–è€… n * 10,000,000 ä¸ªæ•°æ®ç‚¹ï¼Œä»…éœ€ 8 æ ¸ CPU å’Œ 32G å†…å­˜ã€‚
- æ•°æ®è´¨é‡ä¿è¯ï¼šé€šè¿‡æ™ºèƒ½é‡è¯•ã€ç²¾å‡†è°ƒåº¦å’Œ Web æ•°æ®ç”Ÿå‘½å‘¨æœŸç®¡ç†æ¥ç¡®ä¿æ•°æ®è´¨é‡ã€‚
- å¤§è§„æ¨¡é‡‡é›†ï¼šé‡‡ç”¨å®Œå…¨åˆ†å¸ƒå¼æ¶æ„ï¼Œä¸“ä¸ºå¤§è§„æ¨¡æ•°æ®é‡‡é›†è€Œè®¾è®¡ã€‚
- å¤§æ•°æ®æ”¯æŒï¼šæ”¯æŒå¤šç§åç«¯å­˜å‚¨ï¼ŒåŒ…æ‹¬æœ¬åœ°æ–‡ä»¶ã€MongoDBã€HBase å’Œ Goraã€‚
- æ—¥å¿—å’ŒæŒ‡æ ‡ï¼šå¯†åˆ‡ç›‘æ§å¹¶è®°å½•ç³»ç»Ÿä¸­çš„æ¯ä¸ªäº‹ä»¶ã€‚

# â™¾ æ ¸å¿ƒæ¦‚å¿µ

PulsarRPA çš„æ ¸å¿ƒæ¦‚å¿µåŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼Œäº†è§£è¿™äº›æ¦‚å¿µåï¼Œæ‚¨å¯ä»¥åˆ©ç”¨ PulsarRPA è§£å†³å„ç§é«˜è¦æ±‚çš„æ•°æ®é‡‡é›†ä»»åŠ¡ï¼š

- ç½‘ç»œæ•°æ®é‡‡é›†ï¼ˆWeb Scrapingï¼‰ï¼šä½¿ç”¨æœºå™¨äººè‡ªåŠ¨ä»ç½‘ç«™ä¸­æå–å†…å®¹å’Œæ•°æ®ã€‚
- è‡ªåŠ¨æå–ï¼ˆAuto Extractï¼‰ï¼šé€šè¿‡è‡ªåŠ¨å­¦ä¹ æ•°æ®æ¨¡å¼å¹¶ä»ç½‘é¡µä¸­æå–æ¯ä¸ªå­—æ®µï¼Œç”±å…ˆè¿›çš„äººå·¥æ™ºèƒ½ç®—æ³•é©±åŠ¨ã€‚
- RPAï¼šæœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–ï¼Œæ˜¯æŠ“å–ç°ä»£ç½‘é¡µçš„æœ‰æ•ˆæ–¹æ³•ã€‚
- ç½‘ç»œå³æ•°æ®åº“ï¼ˆNetwork As A Databaseï¼‰ï¼šåƒè®¿é—®æœ¬åœ°æ•°æ®åº“ä¸€æ ·è®¿é—®ç½‘ç»œèµ„æºã€‚
- X-SQLï¼šä½¿ç”¨ SQL è¯­è¨€ç›´æ¥æŸ¥è¯¢ Web æ•°æ®ã€‚
- Pulsar Sessionï¼šæä¾›ä¸€ç»„ç®€å•ã€å¼ºå¤§å’Œçµæ´»çš„ API æ¥æ‰§è¡Œ Web æŠ“å–ä»»åŠ¡ã€‚
- Web Driverï¼šå®šä¹‰äº†ä¸€ä¸ªç®€æ´çš„æ¥å£æ¥è®¿é—®å’Œäº¤äº’ç½‘é¡µï¼Œæ‰€æœ‰è¡Œä¸ºéƒ½ç»è¿‡ä¼˜åŒ–ä»¥å°½å¯èƒ½æ¥è¿‘çœŸå®äººç±»çš„è¡Œä¸ºã€‚
- URLï¼šåœ¨ PulsarRPA ä¸­ï¼ŒURL ä¸ä»…æ˜¯æ™®é€šçš„ç½‘å€ï¼Œè¿˜åŒ…å«äº†æè¿°ä»»åŠ¡çš„é¢å¤–ä¿¡æ¯ã€‚PulsarRPA ä¸­çš„æ¯ä¸ªä»»åŠ¡éƒ½è¢«å®šä¹‰ä¸ºæŸç§å½¢å¼çš„ URLã€‚
- Hyperlinkï¼šåœ¨ PulsarRPA ä¸­ï¼Œè¶…é“¾æ¥ä¸ä»…æ˜¯æ™®é€šçš„é“¾æ¥ï¼Œè¿˜åŒ…å«äº†æè¿°ä»»åŠ¡çš„é¢å¤–ä¿¡æ¯ã€‚
- Load Optionsï¼šåŠ è½½é€‰é¡¹æˆ–åŠ è½½å‚æ•°ä¼šå½±å“ PulsarRPA å¦‚ä½•åŠ è½½ã€è·å–å’ŒæŠ“å–ç½‘é¡µã€‚
- Event Handlersï¼šåœ¨ç½‘é¡µçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­æ•è·å’Œå¤„ç†äº‹ä»¶ã€‚

# ğŸ§® é€šè¿‡å¯æ‰§è¡Œ jar ä½¿ç”¨ PulsarRPA

æˆ‘ä»¬å‘å¸ƒäº†ä¸€ä¸ªåŸºäº PulsarRPA çš„ç‹¬ç«‹å¯æ‰§è¡Œ jarï¼Œå®ƒåŒ…æ‹¬ï¼š

- é¡¶å°–ç«™ç‚¹çš„æ•°æ®é‡‡é›†ç¤ºä¾‹ã€‚
- åŸºäºè‡ªç›‘ç£æœºå™¨å­¦ä¹ è‡ªåŠ¨è¿›è¡Œä¿¡æ¯æå–çš„å°ç¨‹åºï¼ŒAI ç®—æ³•å¯ä»¥è¯†åˆ«è¯¦æƒ…é¡µçš„æ‰€æœ‰å­—æ®µï¼Œå­—æ®µç²¾ç¡®åº¦è¾¾åˆ° 99% ä»¥ä¸Šã€‚
- åŸºäºè‡ªç›‘ç£æœºå™¨å­¦ä¹ è‡ªåŠ¨å­¦ä¹ å¹¶è¾“å‡ºæ‰€æœ‰é‡‡é›†è§„åˆ™çš„å°ç¨‹åºã€‚
- å¯ä»¥ç›´æ¥ä»å‘½ä»¤è¡Œæ‰§è¡Œç½‘é¡µæ•°æ®é‡‡é›†ä»»åŠ¡ï¼Œæ— éœ€ç¼–å†™ä»£ç ã€‚
- PulsarRPA æœåŠ¡å™¨ï¼Œå¯ä»¥å‘æœåŠ¡å™¨å‘é€ SQL è¯­å¥æ¥é‡‡é›† Web æ•°æ®ã€‚
- ä¸€ä¸ª Web UIï¼Œå¯ä»¥ç¼–å†™ SQL è¯­å¥å¹¶é€šè¿‡å®ƒå‘é€åˆ°æœåŠ¡å™¨ã€‚

ä¸‹è½½ [PulsarRPAPro](https://github.com/platonai/PulsarRPAPro#download) å¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¡Œæ¢ç´¢å…¶èƒ½åŠ›ï¼š

```shell
java -jar exotic-standalone.jar
```

# ğŸ å°† PulsarRPA ç”¨ä½œè½¯ä»¶åº“

è¦åˆ©ç”¨ PulsarRPA çš„å¼ºå¤§åŠŸèƒ½ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†å…¶ä½œä¸ºåº“æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚

ä½¿ç”¨ Maven æ—¶ï¼Œå¯ä»¥åœ¨ `pom.xml` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š

```xml
<dependency>
  <groupId>ai.platon.pulsar</groupId>
  <artifactId>pulsar-all</artifactId>
  <version>1.12.4</version>
</dependency>
```

ä½¿ç”¨ Gradle æ—¶ï¼Œå¯ä»¥åœ¨ `build.gradle` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š

```kotlin
implementation("ai.platon.pulsar:pulsar-all:1.12.4")
```

ä¹Ÿå¯ä»¥ä» Github å…‹éš†æ¨¡æ¿é¡¹ç›®ï¼ŒåŒ…æ‹¬ [kotlin](https://github.com/platonai/pulsar-kotlin-template), [java-11](https://github.com/platonai/pulsar-java-template), [java-17](https://github.com/platonai/pulsar-java-17-template)ã€‚







# åŸºæœ¬ç”¨æ³•

## Kotlin:

```kotlin
// åˆ›å»ºä¸€ä¸ª Pulsar ä¼šè¯
val session = PulsarContexts.createSession()
// æˆ‘ä»¬æ­£åœ¨å¤„ç†çš„ä¸»è¦ URL
val url = "https://www.amazon.com/dp/B0C1H26C46" 

// ä»æœ¬åœ°å­˜å‚¨åŠ è½½é¡µé¢ï¼Œæˆ–è€…å¦‚æœä¸å­˜åœ¨æˆ–å·²è¿‡æœŸï¼Œåˆ™ä»äº’è”ç½‘è·å–
val page = session.load(url, "-expires 10s")

// å°† URL æäº¤åˆ° URL æ± ï¼Œæäº¤çš„ URL å°†åœ¨çˆ¬å–å¾ªç¯ä¸­å¤„ç†
session.submit(url, "-expires 10s")

// è§£æé¡µé¢å†…å®¹ä¸ºæ–‡æ¡£
val document = session.parse(page)
// å¯¹æ–‡æ¡£è¿›è¡Œæ“ä½œ
// ...

// åŠ è½½å¹¶è§£æ
val document2 = session.loadDocument(url, "-expires 10s")
// å¯¹æ–‡æ¡£è¿›è¡Œæ“ä½œ
// ...

// åŠ è½½é—¨æˆ·é¡µé¢ï¼Œç„¶ååŠ è½½ç”± `-outLink` æŒ‡å®šçš„æ‰€æœ‰é“¾æ¥ã€‚
// é€‰é¡¹ `-outLink` æŒ‡å®šäº†åœ¨é—¨æˆ·é¡µé¢ä¸­é€‰æ‹©é“¾æ¥ä»¥åŠ è½½çš„ css é€‰æ‹©å™¨ã€‚
// é€‰é¡¹ `-topLinks` æŒ‡å®šäº†ç”± `-outLink` é€‰æ‹©çš„æœ€å¤§é“¾æ¥æ•°ã€‚
val pages = session.loadOutPages(url, "-expires 10s -itemExpires 10s -outLink a[href~=/dp/] -topLinks 10")

// åŠ è½½é—¨æˆ·é¡µé¢å¹¶å°†ç”± `-outLink` æŒ‡å®šçš„å¤–éƒ¨é“¾æ¥æäº¤åˆ° URL æ± ã€‚
// é€‰é¡¹ `-outLink` æŒ‡å®šäº†åœ¨é—¨æˆ·é¡µé¢ä¸­é€‰æ‹©é“¾æ¥ä»¥æäº¤çš„ css é€‰æ‹©å™¨ã€‚
// é€‰é¡¹ `-topLinks` æŒ‡å®šäº†ç”± `-outLink` é€‰æ‹©çš„æœ€å¤§é“¾æ¥æ•°ã€‚
session.submitOutPages(url, "-expires 1d -itemExpires 7d -outLink a[href~=/dp/] -topLinks 10")

// åŠ è½½ã€è§£æå¹¶æŠ“å–å­—æ®µ
val fields = session.scrape(url, "-expires 10s", "#centerCol",
    listOf("#title", "#acrCustomerReviewText"))

// åŠ è½½ã€è§£æå¹¶æŠ“å…·åå­—æ®µ
val fields2 = session.scrape(url, "-i 10s", "#centerCol",
    mapOf("title" to "#title", "reviews" to "#acrCustomerReviewText"))

// åŠ è½½ã€è§£æå¹¶æŠ“å…·åå­—æ®µ
val fields3 = session.scrapeOutPages(url, "-i 10s -ii 10s -outLink a[href~=/dp/] -topLink 10", "#centerCol",
    mapOf("title" to "#title", "reviews" to "#acrCustomerReviewText"))

// æ·»åŠ  `-parse` é€‰é¡¹ä»¥æ¿€æ´»è§£æå­ç³»ç»Ÿï¼ˆæ¿€æ´»åå¯ä»¥æ³¨å†Œ DOM æ–‡æ¡£ç›¸å…³çš„äº‹ä»¶å¤„ç†å™¨ï¼Œå¹¶è¿›ä¸€æ­¥å¤„ç† DOM æ–‡æ¡£ï¼‰
val page10 = session.load(url, "-parse -expires 10s")

// Kotlin æŒ‚èµ·è°ƒç”¨
val page11 = runBlocking { session.loadDeferred(url, "-expires 10s") }

// Java é£æ ¼çš„å¼‚æ­¥è°ƒç”¨
session.loadAsync(url, "-expires 10s").thenApply(session::parse).thenAccept(session::export)
```

ç¤ºä¾‹ä»£ç : [kotlin](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/_0_BasicUsage.kt), [java](/pulsar-app/pulsar-examples/src/main/java/ai/platon/pulsar/examples/BasicUsage.java).

## åŠ è½½é€‰é¡¹

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬çš„å¤§å¤šæ•°æŠ“å–æ–¹æ³•éƒ½æ¥å—ä¸€ä¸ªç§°ä¸ºåŠ è½½å‚æ•°æˆ–åŠ è½½é€‰é¡¹çš„å‚æ•°ï¼Œä»¥æ§åˆ¶å¦‚ä½•åŠ è½½/è·å–ç½‘é¡µã€‚

- `-expires`     // é¡µé¢çš„è¿‡æœŸæ—¶é—´
- `-itemExpires` // æ‰¹é‡æŠ“å–æ–¹æ³•ä¸­é¡¹ç›®é¡µé¢çš„è¿‡æœŸæ—¶é—´
- `-outLink`     // è¦æŠ“å–çš„å¤–éƒ¨é“¾æ¥çš„é€‰æ‹©å™¨
- `-refresh`     // å¼ºåˆ¶ï¼ˆé‡æ–°ï¼‰è·å–é¡µé¢ï¼Œå°±åƒåœ¨çœŸå®æµè§ˆå™¨ä¸­ç‚¹å‡»åˆ·æ–°æŒ‰é’®ä¸€æ ·
- `-parse`       // æ¿€æ´»è§£æå­ç³»ç»Ÿï¼Œæ¿€æ´»åå¯ä»¥æ³¨å†Œ DOM æ–‡æ¡£ç›¸å…³çš„äº‹ä»¶å¤„ç†å™¨ï¼Œå¹¶è¿›ä¸€æ­¥å¤„ç† DOM æ–‡æ¡£
- `-resource`    // æ— éœ€æµè§ˆå™¨æ¸²æŸ“è·å– URL ä½œä¸ºèµ„æº

ç‚¹å‡» [Load Options](/docs/concepts.md#load-options) æŸ¥çœ‹è¯¦æƒ…ã€‚

# æå–ç½‘é¡µæ•°æ®

PulsarRPA ä½¿ç”¨ [jsoup](https://jsoup.org/) ä» HTML æ–‡æ¡£ä¸­æå–æ•°æ®ã€‚ Jsoup å°† HTML è§£æä¸ºä¸ç°ä»£æµè§ˆå™¨ç›¸åŒçš„ DOMã€‚ 
æŸ¥çœ‹ [selector-syntax](https://jsoup.org/cookbook/extracting-data/selector-syntax) ä»¥è·å–æ‰€æœ‰å—æ”¯æŒçš„ CSS é€‰æ‹©å™¨ã€‚
åŒæ—¶ï¼Œæˆ‘ä»¬æ‰©å±•äº†æ ‡å‡† CSS è¯­æ³•ï¼Œå¢å¼ºäº† CSS é€‰æ‹©å™¨çš„èƒ½åŠ›ï¼Œä½¿å¾—å…¶èƒ½å¤Ÿè½»æ¾å¤„ç†ç°ä»£ç½‘é¡µå¸ƒå±€ã€‚

## Kotlin:

```kotlin
val document = session.loadDocument(url, "-expires 1d")
val price = document.selectFirst('.price').text()
```

# è¿ç»­é‡‡é›†

åœ¨ PulsarRPA ä¸­æŠ“å–å¤§é‡ URL é›†åˆæˆ–è¿è¡Œè¿ç»­é‡‡é›†éå¸¸ç®€å•ã€‚

## Kotlin:

```kotlin
fun main() {
    val context = PulsarContexts.create()

    val parseHandler = { _: WebPage, document: FeaturedDocument ->
        // å¯¹æ–‡æ¡£è¿›è¡Œæ“ä½œ
        System.out.println(document.getTitle() + "\t|\t" + document.getBaseUri())
    }
    val urls = LinkExtractors.fromResource("seeds.txt")
        .map { ParsableHyperlink("$it -refresh", parseHandler) }
    context.submitAll(urls)
    // å¯ä»¥åœ¨è¿™é‡Œæäº¤æ•°ç™¾ä¸‡çš„ URL
    context.submitAll(urls)
    // ...
    context.await()
}
```

## Java:

```java
public class ContinuousCrawler {

    private static void onParse(WebPage page, FeaturedDocument document) {
        // å¯¹æ–‡æ¡£è¿›è¡Œæ“ä½œ
        System.out.println(document.getTitle() + "\t|\t" + document.getBaseUri());
    }

    public static void main(String[] args) {
        PulsarContext context = PulsarContexts.create();

        List<Hyperlink> urls = LinkExtractors.fromResource("seeds.txt")
                .stream()
                .map(seed -> new ParsableHyperlink(seed, ContinuousCrawler::onParse))
                .collect(Collectors.toList());
        context.submitAll(urls);
        // å¯ä»¥åœ¨è¿™é‡Œæäº¤æ•°ç™¾ä¸‡çš„ URL
        context.submitAll(urls);
        // ...
        context.await();
    }
}
```

ç¤ºä¾‹ä»£ç : [kotlin](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/_9_MassiveCrawler.kt), [java](/pulsar-app/pulsar-examples/src/main/java/ai/platon/pulsar/examples/ContinuousCrawler.java).










# ğŸ‘½ RPA (æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–)

éšç€ç½‘ç«™å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼ŒRPA å·²æˆä¸ºä»æŸäº›ç½‘ç«™æ”¶é›†æ•°æ®çš„å”¯ä¸€é€”å¾„ï¼Œä¾‹å¦‚æŸäº›ä½¿ç”¨è‡ªå®šä¹‰å­—ä½“æŠ€æœ¯çš„ç½‘ç«™ã€‚

PulsarRPA åŒ…å«ä¸€ä¸ª RPA å­ç³»ç»Ÿï¼Œæä¾›äº†ä¸€ç§åœ¨ç½‘é¡µç”Ÿå‘½å‘¨æœŸä¸­æ¨¡ä»¿çœŸäººçš„ä¾¿æ·æ–¹å¼ï¼Œä½¿ç”¨ Web é©±åŠ¨ç¨‹åºä¸ç½‘é¡µäº¤äº’ï¼šæ»šåŠ¨ã€æ‰“å­—ã€å±å¹•æ•è·ã€é¼ æ ‡æ‹–æ”¾ã€ç‚¹å‡»ç­‰ã€‚è¿™å’Œå¤§å®¶æ‰€ç†ŸçŸ¥çš„ seleniumï¼Œplaywrightï¼Œpuppeteer ç±»ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼ŒPulsarRPA çš„æ‰€æœ‰è¡Œä¸ºéƒ½é’ˆå¯¹å¤§è§„æ¨¡æ•°æ®é‡‡é›†è¿›è¡Œä¼˜åŒ–ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå…¸å‹çš„ RPA ä»£ç ç‰‡æ®µï¼Œå®ƒæ˜¯ä»é¡¶çº§ç”µå­å•†åŠ¡ç½‘ç«™æ”¶é›†æ•°æ®æ‰€å¿…éœ€çš„ï¼š

```kotlin
val options = session.options(args)
val event = options.event.browseEventHandlers
event.onBrowserLaunched.addLast { page, driver ->
    // é¢„çƒ­æµè§ˆå™¨ï¼Œä»¥é¿å…è¢«ç½‘ç«™é˜»æ­¢ï¼Œæˆ–é€‰æ‹©å…¨å±€è®¾ç½®ï¼Œä¾‹å¦‚æ‚¨çš„ä½ç½®
    warnUpBrowser(page, driver)
}
event.onWillFetch.addLast { page, driver ->
    // å¿…é¡»å…ˆè®¿é—®å¼•èæ¥æºé¡µé¢ï¼Œç„¶åæ‰èƒ½è®¿é—®æ‰€éœ€é¡µé¢
    waitForReferrer(page, driver)
    // ç½‘ç«™å¯èƒ½ä¼šé˜»æ­¢æˆ‘ä»¬åŒæ—¶æ‰“å¼€è¿‡å¤šé¡µé¢ï¼Œå› æ­¤æˆ‘ä»¬åº”è¯¥é€ä¸€æ‰“å¼€é“¾æ¥
    waitForPreviousPage(page, driver)
}
event.onWillCheckDocumentState.addLast { page, driver ->
    // ç­‰å¾…ç‰¹æ®Šå­—æ®µå‡ºç°åœ¨é¡µé¢ä¸Š
    driver.waitForSelector("body h1[itemprop=name]")
    // å…³é—­é®ç½©å±‚ï¼Œå®ƒå¯èƒ½æ˜¯ä¿ƒé”€ã€å¹¿å‘Šæˆ–å…¶ä»–ä¸œè¥¿
    driver.click(".mask-layer-close-button")
}
// è®¿é—® URL å¹¶è§¦å‘äº‹ä»¶
session.load(url, options)
```

ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ [è¿™é‡Œ](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/sites/food/dianping/RestaurantCrawler.kt) æ‰¾åˆ°ã€‚

## ä½¿ç”¨ X-SQL æŸ¥è¯¢ Web

æå–å•ä¸ªé¡µé¢ï¼š

```sql
select
      dom_first_text(dom, '#productTitle') as title,
      dom_first_text(dom, '#bylineInfo') as brand,
      dom_first_text(dom, '#price tr td:matches(^Price) ~ td, #corePrice_desktop tr td:matches(^Price) ~ td') as price,
      dom_first_text(dom, '#acrCustomerReviewText') as ratings,
      str_first_float(dom_first_text(dom, '#reviewsMedley .AverageCustomerReviews span:contains(out of)'), 0.0) as score
  from load_and_select('https://www.amazon.com/dp/B0C1H26C46  -i 1s -njr 3', 'body');
```

æ‰§è¡Œ X-SQLï¼š

```kotlin
val context = SQLContexts.create()
val rs = context.executeQuery(sql)
println(ResultSetFormatter(rs, withHeader = true))
```

ç»“æœå¦‚ä¸‹ï¼š

```
TITLE                                                   | BRAND                  | PRICE   | RATINGS       | SCORE
HUAWEI P20 Lite (32GB + 4GB RAM) 5.84" FHD+ Display ... | Visit the HUAWEI Store | $6.10 | 1,349 ratings | 4.40
```

ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ [è¿™é‡Œ](/pulsar-app/pulsar-examples/src/main/kotlin/ai/platon/pulsar/examples/_10_XSQL.kt) æ‰¾åˆ°ã€‚

# ğŸŒ å°† PulsarRPA ä½œä¸º REST æœåŠ¡è¿è¡Œ

å½“ PulsarRPA ä½œä¸º REST æœåŠ¡è¿è¡Œæ—¶ï¼ŒX-SQL å¯ç”¨äºéšæ—¶éšåœ°æŠ“å–ç½‘é¡µæˆ–ç›´æ¥æŸ¥è¯¢ Web æ•°æ®ï¼Œæ— éœ€æ‰“å¼€ IDEã€‚

## ä»æºä»£ç æ„å»º

```
git clone https://github.com/platonai/pulsar.git 
cd pulsar && bin/build-run.sh
```

å¯¹äºå›½å†…å¼€å‘è€…ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨æŒ‰ç…§ [è¿™ä¸ª](https://github.com/platonai/pulsar/blob/master/bin/tools/maven/maven-settings.md) æŒ‡å¯¼æ¥åŠ é€Ÿæ„å»ºã€‚

## ä½¿ç”¨ X-SQL æŸ¥è¯¢ Web

å¦‚æœæœªå¯åŠ¨ï¼Œåˆ™å¯åŠ¨ pulsar æœåŠ¡å™¨ï¼š

```
bin/pulsar
```

åœ¨å¦ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­æŠ“å–ç½‘é¡µï¼š

```
bin/scrape.sh
```

è¯¥ bash è„šæœ¬éå¸¸ç®€å•ï¼Œåªéœ€ä½¿ç”¨ curl å‘é€ X-SQLï¼š

```
curl -X POST --location "http://localhost:8182/api/x/e" -H "Content-Type: text/plain" -d "
  select
      dom_base_uri(dom) as url,
      dom_first_text(dom, '#productTitle') as title,
      str_substring_after(dom_first_href(dom, '#wayfinding-breadcrumbs_container ul li:last-child a'), '&node=') as category,
      dom_first_slim_html(dom, '#bylineInfo') as brand,
      cast(dom_all_slim_htmls(dom, '#imageBlock img') as varchar) as gallery,
      dom_first_slim_html(dom, '#landingImage, #imgTagWrapperId img, #imageBlock img:expr(width > 400)') as img,
      dom_first_text(dom, '#price tr td:contains(List Price) ~ td') as listprice,
      dom_first_text(dom, '#price tr td:matches(^Price) ~ td') as price,
      str_first_float(dom_first_text(dom, '#reviewsMedley .AverageCustomerReviews span:contains(out of)'), 0.0) as score
  from load_and_select('https://www.amazon.com/dp/B0C1H26C46  -i 1d -njr 3', 'body');
```

ç¤ºä¾‹ä»£ç å¯ä»¥åœ¨ [è¿™é‡Œ](https://github.com/platonai/pulsar/blob/master/bin/scrape.sh) æ‰¾åˆ°ã€‚

Json æ ¼å¼çš„å“åº”å¦‚ä¸‹ï¼š

```json
{
    "uuid": "cc611841-1f2b-4b6b-bcdd-ce822d97a2ad",
    "statusCode": 200,
    "pageStatusCode": 200,
    "pageContentBytes": 1607636,
    "resultSet": [
        {
            "title": "Tara Toys Ariel Necklace Activity Set - Amazon Exclusive (51394)",
            "listprice": "$19.99",
            "price": "$12.99",
            "categories": "Toys & Games|Arts & Crafts|Craft Kits|Jewelry",
            "baseuri": "https://www.amazon.com/dp/B0C1H26C46"
        }
    ],
    "pageStatus": "OK",
    "status": "OK"
}
```







# ğŸ“– å¾ªåºæ¸è¿›çš„è¯¾ç¨‹

æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¾ªåºæ¸è¿›çš„ç¤ºä¾‹è¯¾ç¨‹ï¼Œå¸®åŠ©æ‚¨é€æ­¥äº†è§£å’ŒæŒæ¡ PulsarRPA çš„ä½¿ç”¨ï¼š

1. [Home](docs/zh/get-started/1home.md)
2. [Basic Usage](docs/zh/get-started/2basic-usage.md)
3. [Load Options](docs/zh/get-started/3load-options.md)
4. [Data Extraction](docs/zh/get-started/4data-extraction.md)
5. [URL](docs/zh/get-started/5URL.md)
6. [Java-style Async](docs/zh/get-started/6Java-style-async.md)
7. [Kotlin-style Async](docs/zh/get-started/7Kotlin-style-async.md)
8. [Continuous Crawling](docs/zh/get-started/8continuous-crawling.md)
9. [Event Handling](docs/zh/get-started/9event-handling.md)
10. [RPA](docs/zh/get-started/10RPA.md)
11. [WebDriver](docs/zh/get-started/11WebDriver.md)
12. [Massive Crawling](docs/zh/get-started/12massive-crawling.md)
13. [X-SQL](docs/zh/get-started/13X-SQL.md)
14. [AI Extraction](docs/zh/get-started/14AI-extraction.md)
15. [REST](docs/zh/get-started/15REST.md)
16. [Console](docs/zh/get-started/16console.md)
17. [Top Practice](docs/zh/get-started/17top-practice.md)
18. [Miscellaneous](docs/zh/get-started/18miscellaneous.md)

# ğŸ“Š æ—¥å¿—å’ŒæŒ‡æ ‡

PulsarRPA ç²¾å¿ƒè®¾è®¡äº†æ—¥å¿—å’ŒæŒ‡æ ‡å­ç³»ç»Ÿï¼Œä»¥è®°å½•ç³»ç»Ÿä¸­å‘ç”Ÿçš„æ¯ä¸€ä¸ªäº‹ä»¶ã€‚é€šè¿‡ PulsarRPA çš„æ—¥å¿—ç³»ç»Ÿï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°äº†è§£ç³»ç»Ÿä¸­å‘ç”Ÿçš„æ¯ä¸€ä»¶äº‹æƒ…ï¼Œ
åˆ¤æ–­ç³»ç»Ÿè¿è¡Œæ˜¯å¦å¥åº·ï¼Œä»¥åŠæˆåŠŸè·å–äº†å¤šå°‘é¡µé¢ã€é‡è¯•äº†å¤šå°‘é¡µé¢ã€ä½¿ç”¨äº†å¤šå°‘ä»£ç† IP ç­‰ä¿¡æ¯ã€‚

é€šè¿‡è§‚å¯Ÿå‡ ä¸ªç®€å•çš„ç¬¦å·ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿäº†è§£æ•´ä¸ªç³»ç»Ÿçš„çŠ¶æ€ï¼šğŸ’¯ ğŸ’” ğŸ—™ âš¡ ğŸ’¿ ğŸ”ƒ ğŸ¤ºã€‚ä»¥ä¸‹æ˜¯ä¸€ç»„å…¸å‹çš„é¡µé¢åŠ è½½æ—¥å¿—ã€‚è¦äº†è§£å¦‚ä½•é˜…è¯»æ—¥å¿—ï¼Œ
è¯·æŸ¥çœ‹ [æ—¥å¿—æ ¼å¼](docs/log-format.md)ï¼Œä»¥ä¾¿å¿«é€ŸæŒæ¡æ•´ä¸ªç³»ç»Ÿçš„çŠ¶æ€ã€‚

```text
2022-09-24 11:46:26.045  INFO [-worker-14] a.p.p.c.c.L.Task - 3313. ğŸ’¯ âš¡ U for N got 200 580.92 KiB in 1m14.277s, fc:1 | 75/284/96/277/6554 | 106.32.12.75 | 3xBpaR2 | https://www.walmart.com/ip/Restored-iPhone-7-32GB-Black-T-Mobile-Refurbished/329207863 -expires PT24H -ignoreFailure -itemExpires PT1M -outLinkSelector a[href~=/ip/] -parse -requireSize 300000
2022-09-24 11:46:09.190  INFO [-worker-32] a.p.p.c.c.L.Task - 3738. ğŸ’¯ ğŸ’¿ U  got 200 452.91 KiB in 55.286s, last fetched 9h32m50s ago, fc:1 | 49/171/82/238/6172 | 121.205.220.179 | https://www.walmart.com/ip/Boost-Mobile-Apple-iPhone-SE-2-Cell-Phone-Black-64GB-Prepaid-Smartphone/490934488 -expires PT24H -ignoreFailure -itemExpires PT1M -outLinkSelector a[href~=/ip/] -parse -requireSize 300000
2022-09-24 11:46:28.567  INFO [-worker-17] a.p.p.c.c.L.Task - 2269. ğŸ’¯ ğŸ”ƒ U for SC got 200 565.07 KiB <- 543.41 KiB in 1m22.767s, last fetched 16m58s ago, fc:6 | 58/230/98/295/6272 | 27.158.125.76 | 9uwu602 | https://www.walmart.com/ip/Straight-Talk-Apple-iPhone-11-64GB-Purple-Prepaid-Smartphone/356345388?variantFieldId=actual_color -expires PT24H -ignoreFailure -itemExpires PT1M -outLinkSelector a[href~=/ip/] -parse -requireSize 300000
2022-09-24 11:47:18.390  INFO [r-worker-8] a.p.p.c.c.L.Task - 3732. ğŸ’” âš¡ U for N got 1601 0 <- 0 in 32.201s, fc:1/1 Retry(1601) rsp: CRAWL, rrs: EMPTY_0B | 2zYxg52 | https://www.walmart.com/ip/Apple-iPhone-7-256GB-Jet-Black-AT-T-Locked-Smartphone-Grade-B-Used/182353175?variantFieldId=actual_color -expires PT24H -ignoreFailure -itemExpires PT1M -outLinkSelector a[href~=/ip/] -parse -requireSize 300000
2022-09-24 11:47:13.860  INFO [-worker-60] a.p.p.c.c.L.Task - 2828. ğŸ—™ ğŸ—™ U for SC got 200 0 <- 348.31 KiB <- 684.75 KiB in 0s, last fetched 18m55s ago, fc:2 | 34/130/52/181/5747 | 60.184.124.232 | 11zTa0r2 | https://www.walmart.com/ip/Walmart-Family-Mobile-Apple-iPhone-11-64GB-Black-Prepaid-Smartphone/209201965?athbdg=L1200 -expires PT24H -ignoreFailure -itemExpires PT1M -outLinkSelector a[href~=/ip/] -parse -requireSize 300000
```

# ğŸ’» ç³»ç»Ÿè¦æ±‚

- å†…å­˜ 4G+
- Maven 3.2+
- Java 11 JDK æœ€æ–°ç‰ˆæœ¬
- java å’Œ jar å¿…é¡»åœ¨ PATH ä¸­
- Google Chrome 90+

PulsarRPA å·²åœ¨ Ubuntu 18.04ã€Ubuntu 20.04ã€Windows 7ã€Windows 11ã€WSL ä¸Šè¿›è¡Œäº†æµ‹è¯•ï¼Œä»»ä½•å…¶ä»–æ»¡è¶³è¦æ±‚çš„æ“ä½œç³»ç»Ÿä¹Ÿåº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œã€‚

# ğŸ›¸ é«˜çº§ä¸»é¢˜

å¦‚æœæ‚¨å¯¹ PulsarRPA çš„é«˜çº§ä¸»é¢˜æ„Ÿå…´è¶£ï¼Œå¯ä»¥æŸ¥çœ‹ [advanced topics](/docs/faq/advanced-topics.md) ä»¥è·å–ä»¥ä¸‹é—®é¢˜çš„ç­”æ¡ˆï¼š

- å¤§è§„æ¨¡ç½‘ç»œçˆ¬è™«æœ‰ä»€ä¹ˆå›°éš¾ï¼Ÿ
- å¦‚ä½•æ¯å¤©ä»ç”µå­å•†åŠ¡ç½‘ç«™ä¸ŠæŠ“å–ä¸€ç™¾ä¸‡ä¸ªäº§å“é¡µé¢ï¼Ÿ
- å¦‚ä½•åœ¨ç™»å½•åæŠ“å–é¡µé¢ï¼Ÿ
- å¦‚ä½•åœ¨æµè§ˆå™¨ä¸Šä¸‹æ–‡ä¸­ç›´æ¥ä¸‹è½½èµ„æºï¼Ÿ
- å¦‚ä½•æŠ“å–å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ï¼Ÿ
- èµ„æºæ¨¡å¼
- RPA æ¨¡å¼
- å¦‚ä½•ç¡®ä¿æ­£ç¡®æå–æ‰€æœ‰å­—æ®µï¼Ÿ
- å¦‚ä½•æŠ“å–åˆ†é¡µé“¾æ¥ï¼Ÿ
- å¦‚ä½•æŠ“å–æ–°å‘ç°çš„é“¾æ¥ï¼Ÿ
- å¦‚ä½•çˆ¬å–æ•´ä¸ªç½‘ç«™ï¼Ÿ
- å¦‚ä½•æ¨¡æ‹Ÿäººç±»è¡Œä¸ºï¼Ÿ
- å¦‚ä½•å®‰æ’ä¼˜å…ˆä»»åŠ¡ï¼Ÿ
- å¦‚ä½•åœ¨å›ºå®šæ—¶é—´ç‚¹å¼€å§‹ä»»åŠ¡ï¼Ÿ
- å¦‚ä½•åˆ é™¤è®¡åˆ’ä»»åŠ¡ï¼Ÿ
- å¦‚ä½•çŸ¥é“ä»»åŠ¡çš„çŠ¶æ€ï¼Ÿ
- å¦‚ä½•çŸ¥é“ç³»ç»Ÿä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
- å¦‚ä½•ä¸ºè¦æŠ“å–çš„å­—æ®µè‡ªåŠ¨ç”Ÿæˆ css é€‰æ‹©å™¨ï¼Ÿ
- å¦‚ä½•ä½¿ç”¨æœºå™¨å­¦ä¹ è‡ªåŠ¨ä»ç½‘ç«™ä¸­æå–å†…å®¹å¹¶å…·æœ‰å•†ä¸šå‡†ç¡®æ€§ï¼Ÿ
- å¦‚ä½•æŠ“å– amazon.com ä»¥æ»¡è¶³è¡Œä¸šéœ€æ±‚ï¼Ÿ

# ğŸ†š åŒå…¶ä»–æ–¹æ¡ˆçš„å¯¹æ¯”

PulsarRPA åœ¨ â€œä¸»è¦ç‰¹æ€§â€ éƒ¨åˆ†ä¸­æåˆ°çš„ç‰¹æ€§éƒ½å¾—åˆ°äº†è‰¯å¥½çš„æ”¯æŒï¼Œè€Œå…¶ä»–è§£å†³æ–¹æ¡ˆå¯èƒ½ä¸æ”¯æŒæˆ–è€…æ”¯æŒä¸å¥½ã€‚æ‚¨å¯ä»¥ç‚¹å‡» [solution comparison](docs/faq/solution-comparison.md) æŸ¥çœ‹ä»¥ä¸‹é—®é¢˜çš„ç­”æ¡ˆï¼š

- PulsarRPA vs selenium/puppeteer/playwright
- PulsarRPA vs nutch
- PulsarRPA vs scrapy+splash

# ğŸ¤“ æŠ€æœ¯ç»†èŠ‚

å¦‚æœæ‚¨å¯¹ PulsarRPA çš„æŠ€æœ¯ç»†èŠ‚æ„Ÿå…´è¶£ï¼Œå¯ä»¥æŸ¥çœ‹ [technical details](docs/faq/technical-details.md) ä»¥è·å–ä»¥ä¸‹é—®é¢˜çš„ç­”æ¡ˆï¼š

- å¦‚ä½•è½®æ¢æˆ‘çš„ IP åœ°å€ï¼Ÿ
- å¦‚ä½•éšè—æˆ‘çš„æœºå™¨äººä¸è¢«æ£€æµ‹åˆ°ï¼Ÿ
- å¦‚ä½•ä»¥åŠä¸ºä»€ä¹ˆè¦æ¨¡æ‹Ÿäººç±»è¡Œä¸ºï¼Ÿ
- å¦‚ä½•åœ¨ä¸€å°æœºå™¨ä¸Šæ¸²æŸ“å°½å¯èƒ½å¤šçš„é¡µé¢è€Œä¸è¢«å±è”½ï¼Ÿ

# ğŸ¦ è”ç³»æ–¹å¼

- å¾®ä¿¡ï¼šgalaxyeye
- å¾®åšï¼š[galaxyeye](https://weibo.com/galaxyeye)
- é‚®ç®±ï¼šgalaxyeye@live.cn, ivincent.zhang@gmail.com
- Twitter: galaxyeye8
- ç½‘ç«™ï¼š[platon.ai](http://platon.ai)
